/*!
 * Copyright (c) 2012 Mike Green <myatus@gmail.com>
 * Portions Copyright Noah Sloan <noah.sloan@gmail.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 *
 */
if(typeof cookillian==="undefined"){var cookillian={}}(function(at,a0){var aW,aP,aJ,aw,aN,Q,aK,aA,av,ax,aU,aO,aD,ao,ay,aB,aV,al,aH,aM,aQ=a0.document;function az(a){var b=aQ.createElement("div");aQ.body.insertBefore(b,null);at.replaceWith(b,'<script type="text/javascript">'+a+"<\/script>")}at=at||(function(a){return{ajax:a.ajax,$:function(b){return a(b)[0]},replaceWith:function(f,b){var c=a(f)[0],d=c.nextSibling,e=c.parentNode;a(c).remove();if(d){a(d).before(b)}else{a(e).append(b)}},onLoad:function(b){a(b)},copyAttrs:function(b,f){var e,h,d=a(f),g=b.attributes;for(e=0,h=g.length;e<h;e++){if(g[e]&&g[e].value){try{d.attr(g[e].name,g[e].value)}catch(c){}}}}}}(a0.jQuery));at.copyAttrs=at.copyAttrs||function(){};at.onLoad=at.onLoad||function(){throw"error: autoAsync cannot be used without jQuery or defining writeCaptureSupport.onLoad"};function ah(a,c){var d,b;for(d=0,b=a.length;d<b;d++){if(c(a[d])===false){return}}}function aF(a){return Object.prototype.toString.call(a)==="[object Function]"}function aG(b,c,a){return Array.prototype.slice.call(b,c||0,a||(b&&b.length))}function au(b,c){var a=false;ah(b,function(d){return !(a=c(d))});return a}function am(a){this._queue=[];this._children=[];this._parent=a;if(a){a._addChild(this)}}am.prototype={_addChild:function(a){this._children.push(a)},push:function(a){this._queue.push(a);this._bubble("_doRun")},pause:function(){this._bubble("_doPause")},resume:function(){this._bubble("_doResume")},_bubble:function(b){var a=this;while(!a[b]){a=a._parent}return a[b]()},_next:function(){var a;if(au(this._children,function(b){return b._next()})){return true}a=this._queue.shift();if(a){a()}return !!a}};function aS(a){if(a){return new am(a)}am.call(this);this.paused=0}aS.prototype=(function(){function a(){}a.prototype=am.prototype;return new a()}());aS.prototype._doRun=function(){if(!this.running){this.running=true;try{while(this.paused<1&&this._next()){}}finally{this.running=false}}};aS.prototype._doPause=function(){this.paused++};aS.prototype._doResume=function(){this.paused--;this._doRun()};function ak(){}ak.prototype={_html:"",open:function(){this._opened=true;if(this._delegate){this._delegate.open()}},write:function(a){if(this._closed){return}this._written=true;if(this._delegate){this._delegate.write(a)}else{this._html+=a}},writeln:function(a){this.write(a+"\n")},close:function(){this._closed=true;if(this._delegate){this._delegate.close()}},copyTo:function(a){this._delegate=a;a.foobar=true;if(this._opened){a.open()}if(this._written){a.write(this._html)}if(this._closed){a.close()}}};aW=(function(){var a={f:aQ.getElementById};try{a.f.call(aQ,"abc");return true}catch(b){return false}}());function ap(a){ah(a,function(c){var b=aQ.getElementById(c.id);if(!b){aP("<proxyGetElementById - finish>","no element in writen markup with id "+c.id);return}ah(c.el.childNodes,function(d){b.appendChild(d)});if(b.contentWindow){a0.setTimeout(function(){c.el.contentWindow.document.copyTo(b.contentWindow.document)},1)}at.copyAttrs(c.el,b)})}function aI(b,a){if(a&&a[b]===false){return false}return(a&&a[b])||aM[b]}function aC(p,a){var k,l,h=[],j=aI("proxyGetElementById",a),g=aI("forceLastScriptTag",a),b=aI("writeOnGetElementById",a),n=aI("immediateWrites",a),e={write:aQ.write,writeln:aQ.writeln,finish:function(){},out:""};function c(r){e.out+=r}function q(r){e.out+=r+"\n"}function i(s){var r=at.$(p.target),t=aQ.createElement("div");r.parentNode.insertBefore(t,r);at.replaceWith(t,ag(s))}function f(s){var r=at.$(p.target),t=aQ.createElement("div");r.parentNode.insertBefore(t,r);at.replaceWith(t,ag(s)+"\n")}function m(r){var s=aQ.createElement("div");h.push({id:r,el:s});s.contentWindow={document:new ak()};return s}function d(t){var s=at.$(p.target),r=aQ.createElement("div");s.parentNode.insertBefore(r,s);at.replaceWith(r,e.out);e.out="";return aW?e.getEl.call(aQ,t):e.getEl(t)}function o(r){var s=aW?e.getEl.call(aQ,r):e.getEl(r);return s||l(r)}p.state=e;aQ.write=n?i:c;aQ.writeln=n?f:q;if(j||b){e.getEl=aQ.getElementById;aQ.getElementById=o;if(b){l=d}else{l=m;e.finish=function(){ap(h)}}}if(g){e.getByTag=aQ.getElementsByTagName;aQ.getElementsByTagName=function(r){var s=aG(aW?e.getByTag.call(aQ,r):e.getByTag(r));if(r==="script"){s.push(at.$(p.target))}return s};k=e.finish;e.finish=function(){k();aQ.getElementsByTagName=e.getByTag}}return e}function ac(a){aQ.write=a.write;aQ.writeln=a.writeln;if(a.getEl){aQ.getElementById=a.getEl}return a.out}function aj(a){return a&&a.replace(/^\s*<!(\[CDATA\[|--)/,"").replace(/(\]\]|--)>\s*$/,"")}function aZ(){}function aX(b,a){console.error("Error",a,"executing code:",b)}aP=aF(a0.console&&console.error)?aX:aZ;function af(d,e,c){var b=aC(e,c);try{az(aj(d))}catch(a){aP(d,a)}finally{ac(b)}return b}function ai(b){var a=/^(\w+:)?\/\/([^\/?#]+)/.exec(b);return a&&((a[1]&&a[1]!==location.protocol)||a[2]!==location.host)}function ae(a){return new RegExp("[\\s\\r\\n]"+a+"[\\s\\r\\n]*=[\\s\\r\\n]*(?:([\"'])([\\s\\S]*?)\\1|([^\\s>]+))","i")}function aR(a){var b=ae(a);return function(d){var c=b.exec(d)||[];return c[2]||c[3]}}aJ=/(<script[^>]*>)([\s\S]*?)<\/script>/ig;aw=/<script[^>]*\/>/ig;aN=ae("src");Q=aR("src");aK=aR("type");aA=aR("language");av="__document_write_ajax_callbacks__";ax="__document_write_ajax_div-";aU="window['"+av+"']['%d']();";aO=a0[av]={};aD='<script type="text/javascript">'+aU+"<\/script>";ao=0;function aY(){return(++ao).toString()}function aq(c,b){var a;if(aF(c)){a=c;c=null}c=c||{};a=a||(c&&c.done);c.done=b?function(){b(a)}:a;return c}ay=new aS();aB=[];aV=window._debugWriteCapture?function(){}:function(b,a,c){aB.push({type:b,src:a,data:c})};al=window._debugWriteCapture?function(){}:function(){aB.push(arguments)};function ab(a){var b=aY();aO[b]=function(){a();delete aO[b]};return b}function an(a){return aD.replace(/%d/,ab(a))}function aL(b,e,a){var d,c,f=document.createElement("script");f.src=e;b=at.$(b);d=false;c=b.parentNode;f.onload=f.onreadystatechange=function(){if(!d&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d=true;a();f.onload=f.onreadystatechange=null;c.removeChild(f)}};c.insertBefore(f,b)}function ag(f,b,i,d){var g,a,j,e=(i&&new aS(i))||ay;function c(C,l,D){var k,v,m,A,x=Q(l),z=aK(l)||"",p=aA(l)||"",r=(!z&&!p)||z.toLowerCase().indexOf("javascript")!==-1||p.toLowerCase().indexOf("javascript")!==-1;function s(){e.push(m)}function E(F,G){var H=af(F,A,b);G=an(H.finish)+(G||"");o(H.out,G)}function w(){E(D)}function n(){at.ajax({url:x,type:"GET",dataType:"text",async:false,success:function(F){E(F)}})}function B(H,G,F){aP("<XHR for "+x+">",F);e.resume()}function q(){return an(function(){e.resume()})}function u(){var H,F;function G(J){if(!H){F=J;return}try{E(J,q())}catch(I){aP(J,I)}}at.ajax({url:x,type:"GET",dataType:"text",async:true,success:G,error:B});return function(){H=true;if(F){E(F)}else{e.pause()}}}function t(){var F=aC(A,b);function G(){aV("out",x,F.out);o(ac(F),an(F.finish)+q());aV("resume",x)}e.pause();aV("pause",x);aL(A.target,x,G)}function y(G){var F,H={};for(F in G){if(G.hasOwnProperty(F)){H[F]=G[F]}}delete H.done;return H}function o(F,G){at.replaceWith(A.target,ag(F,y(b),e,A)+(G||""))}aV("replace",x,C);if(!r){return C}k=ab(s);v=ax+k;A={target:"#"+v,parent:d};if(x){x=j(x);l=l.replace(aN,"");if(ai(x)){m=t}else{if(aI("asyncAll",b)){m=u()}else{m=n}}}else{m=w}return'<div style="display: none" id="'+v+'"></div>'+l+aU.replace(/%d/,k)+"<\/script>"}function h(k){return c(k,k.substring(0,k.length-2)+">","")}b=aq(b);g=aI("done",b);a="";j=aI("fixUrls",b);if(!aF(j)){j=function(k){return k}}if(aF(g)){a=an(function(){e.push(g)})}return f.replace(aJ,c).replace(aw,h)+a}function ar(c,b){var a=ay;ah(c,function(d){a.push(function(){d.action(ag(d.html,d.options,a),d)})});if(b){a.push(b)}}function ad(a){var b=a;while(b&&b.nodeType===1){a=b;b=b.lastChild;while(b&&b.nodeType!==1){b=b.previousSibling}}return a}function aT(e){var f,b,d=aQ.write,a=aQ.writeln,c=[];aQ.writeln=function(g){aQ.write(g+"\n")};aQ.write=function(g){var h=ad(aQ.body);if(h!==f){f=h;c.push(b={el:h,out:[]})}b.out.push(g)};at.onLoad(function(){var m,j,h,k,l,g,i;e=aq(e);l=e.done;e.done=function(){aQ.write=d;aQ.writeln=a;if(l){l()}};for(g=0,i=c.length;g<i;g++){m=c[g].el;j=aQ.createElement("div");m.parentNode.insertBefore(j,m.nextSibling);h=c[g].out.join("");k=i-g===1?ag(h,e):ag(h);at.replaceWith(j,k)}})}function aE(i){var b,a,d,l,j,e,c,f=[],h=document.getElementsByTagName("script"),k=0,g=i?an(function(){if(++k>=f.length){i()}}):"";for(e=0,c=h.length;e<c;e++){b=h[e];l=b.getAttribute("extsrc");j=b.getAttribute("asyncsrc");if(l||j){f.push({ext:l,async:j,s:b})}}for(e=0,c=f.length;e<c;e++){a=f[e];if(a.ext){d='<script type="text/javascript" src="'+a.ext+'"> <\/script>';at.replaceWith(a.s,ag(d)+g)}else{if(a.async){d='<script type="text/javascript" src="'+a.async+'"> <\/script>';at.replaceWith(a.s,ag(d,{asyncAll:true},new aS())+g)}}}}aH="writeCapture";aM=a0[aH]={_original:a0[aH],support:at,fixUrls:function(a){return a.replace(/&amp;/g,"&")},noConflict:function(){a0[aH]=this._original;return this},debug:aB,proxyGetElementById:false,_forTest:{Q:aS,GLOBAL_Q:ay,$:at,matchAttr:aR,slice:aG,capture:aC,uncapture:ac,captureWrite:af},replaceWith:function(b,a,c){at.replaceWith(b,ag(a,c))},html:function(c,a,d){var b=at.$(c);b.innerHTML="<span/>";at.replaceWith(b.firstChild,ag(a,d))},load:function(b,a,c){at.ajax({url:a,dataType:"text",type:"GET",success:function(d){aM.html(b,d,c)}})},extsrc:aE,autoAsync:aT,sanitize:ag,sanitizeSerial:ar}}(this.writeCaptureSupport,this));(function(y,A){var t="__writeCaptureJsProxied-fghebd__",x=/jquery-writeCapture-script-placeholder-(\d+)-wc/g,B;function w(a){y(this).html(a)}function D(a){return Object.prototype.toString.call(a)==="[object String]"}function C(b,c,a){var e,d=this;if(c&&c.done){e=c.done;delete c.done}else{if(y.isFunction(c)){e=c;c=null}}A.sanitizeSerial(y.map(this,function(f){return{html:b,options:c,action:function(g){a.call(f,g)}}}),(e&&function(){e.call(d)})||e);return this}function v(a){return function(b){y(this)[a](b)}}function r(b,c){var a,d;if(!c||!b){return b}a=0;d={};return y("<div/>").append(b.replace(/<script(.|\s)*?\/script>/g,function(e){d[a]=e;return"jquery-writeCapture-script-placeholder-"+a+++"-wc"})).find(c).html().replace(x,function(f,e){return d[e]})}function z(b,a,c){return function(e,f){var d;if(f==="success"||f==="notmodified"){d=r(e.responseText,c);C.call(b,d,a,w)}}}function s(c,d,a){var f,e=this,b=c.indexOf(" ");if(b>=0){f=c.slice(b,c.length);c=c.slice(0,b)}if(y.isFunction(a)){d=d||{};d.done=a}return y.ajax({url:c,type:(d&&d.type)||"GET",dataType:"html",data:d&&d.params,complete:z(e,d,f)})}function u(a){throw"invalid method parameter "+a}function q(){var a;if(this[t]){return this}a=this;function b(){var c=this,d=false;this[t]=true;y.each(B,function(e){var f=a[e];if(!f){return}c[e]=function(g,h,i){if(!d&&D(g)){try{d=true;return p.call(c,e,g,h,i)}finally{d=false}}return f.apply(c,arguments)}});this.pushStack=function(){return q.call(a.pushStack.apply(c,arguments))};this.endCapture=function(){return a}}b.prototype=a;return new b()}function p(a,b,c,d){var e;if(arguments.length===0){return q.call(this)}e=B[a];if(a==="load"){return s.call(this,b,c,d)}if(!e){u(a)}return C.call(this,b,c,e)}y.fn.writeCapture=p;B={html:w};y.each(["append","prepend","after","before","wrap","wrapAll","replaceWith","wrapInner"],function(){B[this]=v(this)});y.writeCapture=A}(jQuery,writeCapture.noConflict()));(function(b){b.extend(cookillian,{getAjaxData:function(a,j,g){var h=(typeof g==="function"),i=false;b.ajax({type:"POST",dataType:"json",url:cookillian_ajax.url,timeout:9000,async:h,data:{action:cookillian_ajax.action,func:a,data:j,_ajax_nonce:cookillian_ajax.nonce},success:function(c){if(c.stat==="ok"){i=c.data;if(h){g(i)}}}});return i},init:function(){var a=document.referrer||false,e,f;f=function(c){if(typeof c.debug!=="undefined"&&typeof console==="object"){console.log(c)}if(typeof c.header_script!=="undefined"){b("head").append(c.header_script);delete c.header_script}b.extend(cookillian,c)};b.extend(this,{blocked_cookies:true,deleted_cookies:true,implied_consent:false,opted_out:false,opted_in:false,is_manual:false,has_nst:false});cookillian.initScrubCookies();if(!cookillian.use_async_ajax){e=cookillian.getAjaxData("init",{true_referrer:a});if(e){f(e)}}else{cookillian.getAjaxData("init",{true_referrer:a},function(c){f(c);cookillian.postInit()})}},postInit:function(){b(document).ready(function(a){if(typeof cookillian.footer_script!=="undefined"){a("body").append(cookillian.footer_script);delete cookillian.footer_script}cookillian.displayAlert();a(document).trigger("cookillian_ready",cookillian)});b(document).trigger("cookillian_load",cookillian)},displayAlert:function(){var d=b(".cookillian-alert"),a=(cookillian.blocked_cookies&&!cookillian.opted_out);if(!d.length){return}b(".close",d).click(function(c){d.fadeOut("slow");c.preventDefault()});b(".btn-ok",d).click(function(c){cookillian.optIn();d.fadeOut("slow");c.preventDefault()});b(".btn-no",d).click(function(c){cookillian.optOut();d.fadeOut("slow");c.preventDefault()});if(a){if(!cookillian.is_manual){d.detach().prependTo("body").fadeIn("slow")}else{d.show()}if((typeof cookillian.debug==="undefined"||!cookillian.debug.logged_in)&&!cookillian.has_nst){cookillian.getAjaxData("displayed",true,function(){})}}},initScrubCookies:function(){if(!cookillian.scrub_cookies){return}b(document).on("cookillian_ready",function(){function a(){if(cookillian.deleted_cookies&&document.cookie){if(typeof cookillian.last_seen_cookies==="undefined"||cookillian.last_seen_cookies!==document.cookie){cookillian.deleteCookies()}cookillian.last_seen_cookies=document.cookie}setTimeout(a,500)}a()})},deleteCookies:function(){return cookillian.getAjaxData("delete_cookies",true)},optIn:function(){return cookillian.getAjaxData("opt_in",true)},optOut:function(){return cookillian.getAjaxData("opt_out",true)},resetOptinout:function(){return cookillian.getAjaxData("reset_optinout",true)},insertString:function(l,j,i,k){var a=b(l),h;if(!a.length){return}i=i||"";k=k||"blocked_cookies";b(document).on("cookillian_ready",function(){if(typeof k==="string"){k=Boolean(cookillian[k])}h=(k===false)?i:j;b(a).writeCapture().append(h)})}});cookillian.init();if(!cookillian.use_async_ajax){cookillian.postInit()}}(jQuery));