/*!
 * Copyright (c) 2012 Mike Green <myatus@gmail.com>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 *
 */
if(typeof cookillian==="undefined"){var cookillian={}}(function(b){b.extend(cookillian,{getAjaxData:function(a,j,g){var h=(typeof g==="function"),i=false;b.ajax({type:"POST",dataType:"json",url:cookillian_ajax.url,timeout:5000,async:h,data:{action:cookillian_ajax.action,func:a,data:j,_ajax_nonce:cookillian_ajax.nonce},success:function(c){if(c.nonce===cookillian_ajax.nonceresponse&&c.stat==="ok"){i=c.data;if(h){g(i)}}}});return i},init:function(){var a=document.referrer||false,e,f;f=function(c){if(typeof c.debug!=="undefined"&&typeof console==="object"){console.log(c)}if(typeof c.header_script!=="undefined"){b("head").append(c.header_script);delete c.header_script}b.extend(cookillian,c)};b.extend(this,{blocked_cookies:true,implied_consent:false,opted_out:false,opted_in:false,is_manual:false,has_nst:false});if(!cookillian.use_async_ajax){e=cookillian.getAjaxData("init",{true_referrer:a});if(e){f(e)}}else{cookillian.getAjaxData("init",{true_referrer:a},function(c){f(c);cookillian.postInit()})}},postInit:function(){b(document).ready(function(a){if(typeof cookillian.footer_script!=="undefined"){a("body").append(cookillian.footer_script);delete cookillian.footer_script}cookillian.displayAlert();a(document).trigger("cookillian_ready",cookillian)});b(document).trigger("cookillian_load",cookillian)},displayAlert:function(){var d=b(".cookillian-alert"),a=(cookillian.blocked_cookies&&!cookillian.opted_out);if(!d.length){return}b(".close",d).click(function(c){d.fadeOut("slow");c.preventDefault()});if(a){if(!cookillian.is_manual){d.detach().prependTo("body").fadeIn("slow")}else{d.show()}if((typeof cookillian.debug==="undefined"||!cookillian.debug.logged_in)&&!cookillian.has_nst){cookillian.getAjaxData("displayed",true,function(){})}}},deleteCookies:function(){return cookillian.getAjaxData("delete_cookies",true)},optIn:function(){return cookillian.getAjaxData("opt_in",true)},optOut:function(){return cookillian.getAjaxData("opt_out",true)},resetOptinout:function(){return cookillian.getAjaxData("reset_optinout",true)},insertString:function(j,h,g,i){var a=b(j);if(!a.length){return}if(typeof i==="undefined"){i="blocked_cookies"}b(document).on("cookillian_ready",function(){if(typeof i==="string"){i=Boolean(cookillian[i])}if(i){if(h){b(a).append(h)}}else{if(g){b(a).append(g)}}})}});cookillian.init();if(!cookillian.use_async_ajax){cookillian.postInit()}}(jQuery));